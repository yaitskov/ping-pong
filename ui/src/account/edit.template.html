<main-menu></main-menu>
<div class="container">
  <form novalidate name="$ctrl.form" ng-submit="$ctrl.change()">
    <div class="form-group" ng-class="{'has-error':  ($ctrl.form.$submitted || $ctrl.form.name.$dirty) && $ctrl.form.name.$invalid}">
      <label for="name">Name</label>
      <input type="text" class="form-control"
             ng-model="$ctrl.data.name"
             ng-maxlength="40"
             ng-minlength="5"
             required
             name="name"
             id="name"
             placeholder="Name"/>
      <p class="help-block"
         ng-show="$ctrl.form.name.$error.required">
        Name is required
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.name.$error.minlength || $ctrl.form.name.$error.maxlength">
        Name length must be in range 5 and 40
      </p>
    </div>
    <div class="form-group"
         ng-class="{'has-error': ($ctrl.form.$submitted || $ctrl.form.email.$dirty) && $ctrl.form.email.$invalid}">
      <label for="email">Email</label>
      <input type="email" class="form-control"
             ng-model="$ctrl.data.email"
             ng-maxlength="60"
             validate-email
             name="email"
             id="email" placeholder="Email"/>
      <p class="help-block"
         ng-show="$ctrl.form.email.$error.maxlength">
        Email length must be less than 60
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.email.$error.email">
        Email format is wrong
      </p>
      <p class="help-block" ng-show="$ctrl.form.email.$valid">
        Optional field, but it allows to get access to your accont
        from different devices or recover access in case of session
        is lost or expired. If you want just enlist to the tournament,
        then leave it empty. The email could be bound later.
      </p>
    </div>
    <div class="form-group"
         ng-class="{'has-error': ($ctrl.form.$submitted || $ctrl.form.phone.$dirty) && $ctrl.form.phone.$invalid}">
      <label for="phone">Phone</label>
      <input type="text" class="form-control"
             ng-model="$ctrl.data.phone"
             ng-maxlength="40"
             validate-phone
             name="phone"
             id="phone"
             placeholder="Phone"/>
      <p class="help-block" ng-show="$ctrl.form.phone.$valid">
        Optional field. It could be used for account recovery.
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.phone.$error.maxlength">
        Phone length must be less than 40
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.phone.$error.phone">
        Phone is in wrong format
      </p>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-default btn-primary">Change</button>
      <a class="btn btn-default" back-button>Cancel</a>
    </div>
    <div class="form-group">
      <request-status></request-status>
    </div>
  </form>
</div>
