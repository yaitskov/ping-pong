<main-menu></main-menu>
<div class="container">
  <form novalidate name="$ctrl.form" ng-submit="$ctrl.change()">
    <div class="form-group" ng-class="{'has-error':  ($ctrl.form.$submitted || $ctrl.form.name.$dirty) && $ctrl.form.name.$invalid}">
      <label for="name">Name</label>
      <input type="text" class="form-control"
             ng-model="$ctrl.data.name"
             ng-maxlength="40"
             ng-minlength="1"
             required
             name="name"
             id="name"
             placeholder="Name"/>
      <p class="help-block"
         ng-show="$ctrl.form.name.$error.required">
        Name is required
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.name.$error.minlength || $ctrl.form.name.$error.maxlength">
        Name length must be in range 1 and 40
      </p>
    </div>
    <div class="form-group"
         ng-class="{'has-error':  ($ctrl.form.$submitted || $ctrl.form.address.$dirty) && $ctrl.form.address.$invalid}">
      <label for="address">Address</label>
      <input type="text" class="form-control"
             ng-model="$ctrl.data.address.address"
             ng-maxlength="200"
             ng-minlength="1"
             required
             name="address"
             id="address"
             placeholder="Postal adress"/>
      <p class="help-block"
         ng-show="$ctrl.form.address.$error.required">
        Postal is required
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.address.$error.minlength || $ctrl.form.address.$error.maxlength">
        Postal address length must be in range 1 and 200
      </p>
    </div>
    <div class="form-group"
         ng-class="{'has-error': ($ctrl.form.$submitted || $ctrl.form.email.$dirty) && $ctrl.form.email.$invalid}">
      <label for="email">Email</label>
      <input type="email" class="form-control"
             ng-model="$ctrl.data.address.email"
             ng-maxlength="40"
             validate-email
             name="email"
             id="email" placeholder="Email"/>
      <p class="help-block"
         ng-show="$ctrl.form.email.$error.maxlength">
        Email length must be less than 40
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.email.$error.email">
        Email format is wrong
      </p>
      <p class="help-block" ng-show="$ctrl.form.email.$valid">
        Optional field
      </p>
    </div>
    <div class="form-group"
         ng-class="{'has-error': ($ctrl.form.$submitted || $ctrl.form.phone.$dirty) && $ctrl.form.phone.$invalid}">
      <label for="phone">Phone</label>
      <input type="text" class="form-control"
             ng-model="$ctrl.data.address.phone"
             ng-maxlength="40"
             validate-phone
             name="phone"
             id="phone"
             placeholder="Phone"/>
      <p class="help-block" ng-show="$ctrl.form.phone.$valid">
        Optional field.
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.phone.$error.maxlength">
        Phone length must be less than 40
      </p>
      <p class="help-block"
         ng-show="$ctrl.form.phone.$error.phone">
        Phone is in wrong format
      </p>
    </div>
    <div class="form-group">
      <button type="submit" class="btn btn-default btn-primary">Change</button>
      <a class="btn btn-default" back-button>Cancel</a>
    </div>
    <div class="form-group">
      <request-status></request-status>
    </div>
  </form>
</div>
