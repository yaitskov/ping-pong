<main-menu></main-menu>
<div class="container tournament-result">
  <request-status></request-status>
  <div class="alert alert-success"
       ng-show="$ctrl.tournament.state == 'Close'">
    {{ 'tournament complete' | translate : '{name: $ctrl.tournament.name}' }}
  </div>
  <div class="alert alert-info"
       ng-show="$ctrl.tournament.state == 'Open'">
    {{ 'tournament in progress' | translate : '{name: $ctrl.tournament.name}' }}
  </div>
 <div class="alert alert-info"
       ng-show="$ctrl.tournament.state == 'Draft' || $ctrl.tournament.state == 'Announce'">
    {{ 'tournament not started' | translate : '{name: $ctrl.tournament.name}' }}
  </div>
  <div class="form-group" ng-show="$ctrl.tournament.categories.length > 1">
    <label>{{ 'Categories' | translate }}</label>
    <div class="btn-group">
      <a ng-click="$ctrl.pickCategory(category.cid)"
         class="btn"
         ng-repeat="category in $ctrl.tournament.categories | orderBy : 'name'"
         ng-class="{'btn-default': $ctrl.currentCid != category.cid, 'btn-primary': $ctrl.currentCid == category.cid}">
        {{category.name}}
      </a>
    </div>
  </div>
  <table class="table" ng-show="$ctrl.participants">
    <thead>
      <tr>
        <td>#</td>
        <td>{{ 'Participant' | translate }}</td>
        <td title="{{ 'cumulative score across all matches' | translate }}">
          {{ 'Score' | translate }}
        </td>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="participant in $ctrl.participants">
        <td>{{$index + 1}}</td>
        <td title="{{ 'Opponents participating in the match' | translate }}">
          <a href="#!/participant/result/{{$ctrl.tournament.tid}}/{{participant.user.uid}}">
            {{participant.user.name}}
          </a>
        </td>
        <td>
          {{participant.punkts}}
        </td>
      </tr>
    </tbody>
  </table>
</div>
